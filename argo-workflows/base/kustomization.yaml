apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - argo-workflows/
  - externalsecrets/

# Apply ordering:
# Helm (Argo) -> then ExternalSecret (depends on Argo's SA)
# Kustomize itself doesn't enforce order during build,
# but you can apply with kubectl using the right sequence:
# kubectl apply -k . --prune --wait=false
