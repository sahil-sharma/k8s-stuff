config:
  clientID: oauth2
  clientSecret: 0IbB6osyb3QsDe9nFFigxv4TerHVghqq
  cookieSecure: false
  cookieSecret: qWlTmgU_lG6ZWNKZA0xmXvgLM8U0qkhSEiVh5TVHsR0=
  configFile: |-
    email_domains=["local.io"]
    provider="oidc"
    redirect_url="http://auth.local.io:32080/oauth2/callback"
    oidc_issuer_url="https://sso.local.io:32443/realms/master"
    skip_provider_button=true
    ssl_insecure_skip_verify=true
    reverse_proxy=true
    show_debug_on_error=true
    cookie_name="_oauth2_proxy"
    cookie_refresh="15m"
    cookie_expire="30m"
    cookie_httponly=true
    cookie_samesite="lax"
    cookie_secure=false
    standard_logging=true
    auth_logging=true
    request_logging=true
    pass_access_token=true
    pass_user_headers=true
    pass_host_header=true
    upstreams=["http://rollouts.local.io:32080/"]
    whitelist_domains=[".local.io"]
    cookie_domains=[".local.io"]

redis:
  enabled: false

sessionStorage:
  type: redis
  redis:
    password: admin123
    clientType: "standalone"
    standalone:
      connectionUrl: "redis://cache.local.io:32379"

ingress:
  enabled: true
  path: /
  pathType: Prefix
  className: nginx
  annotations:
    # nginx.ingress.kubernetes.io/proxy-ssl-server-name: "on"
    nginx.ingress.kubernetes.io/proxy-body-size: "0"
    nginx.ingress.kubernetes.io/proxy-buffer-size: "256k"
    nginx.ingress.kubernetes.io/client-header-buffer-size: "256k"
    nginx.ingress.kubernetes.io/large-client-header-buffers: "4 256k"
    nginx.ingress.kubernetes.io/client-max-body-size: "200m"
    nginx.ingress.kubernetes.io/proxy-buffers-number: "5"
    nginx.ingress.kubernetes.io/proxy-buffers: "4 512k"
    nginx.ingress.kubernetes.io/proxy-busy-buffers-size: "512k"
    nginx.ingress.kubernetes.io/proxy-buffering: "on"
    nginx.ingress.kubernetes.io/configuration-snippet: |
      proxy_set_header Host $host;
      X-Forwarded-Port: $server_port
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
  hosts:
    - auth.local.io
